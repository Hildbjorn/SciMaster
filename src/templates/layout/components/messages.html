<!-- Блок для отображения системных сообщений (успех, ошибки, предупреждения) -->
<div id="messages" class="messages">
  <!-- Проверка наличия сообщений -->
  {% if messages %}
    <div class="alert_messages">
      <div class="mt-3">
        <!-- Цикл по всем сообщениям -->
        {% for message in messages %}
          <!-- Определение класса иконки в зависимости от типа сообщения -->
          {% with icon_class=message.tags|default:'info' %}
            <!-- Контейнер сообщения -->
            <div class="alert alert-{{ icon_class }} d-flex justify-content-between align-items-top" role="alert" aria-live="assertive">
              <!-- Основное содержимое сообщения (иконка + текст) -->
              <div class="d-flex align-items-top">
                <!-- Выбор иконки в зависимости от типа сообщения -->
                <i class="bi 
                  <!-- Иконка для успешных сообщений -->
                  {% if message.tags == 'success' %}
                    
                    bi-check-circle
                  <!-- Иконка для предупреждений -->

                  {% elif message.tags == 'warning' %}
                    
                    bi-exclamation-circle
                  <!-- Иконка для ошибок -->

                  {% elif message.tags == 'error' %}
                    
                    bi-x-circle
                  <!-- Иконка по умолчанию -->

                  {% else %}
                    
                    bi-info-circle

                  {% endif %} 
                  pe-2">

                </i>

                <!-- Текст сообщения (с поддержкой HTML) -->
                <div>{{ message|safe }}</div>
              </div>

              <!-- Кнопка закрытия сообщения -->
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Закрыть"></button>
            </div>
          {% endwith %}
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>
